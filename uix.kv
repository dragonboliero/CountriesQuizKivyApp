#Default values for button type used in main menu
<MDFillRoundFlatIconButton>
    font_size: '30sp'
    size_hint: (None,0.15)

#Predefined values for back buttons in quiz screens
<MDIconButton>
    icon: 'backspace-outline'
    pos_hint:{'center_y':0.95}
    on_press: app.reload_countries_list()

#Predefined values for lables
<MDLabel>
    halign: 'center'

#Predefined values for images used in flags quiz screen
<Image>
    size_hint: (0.4,0.3)

#Predefined values for buttons used in flags quiz screen
<Button>
    size_hint: (0.4,0.3)
    opacity:0



#Screen manager containing all available screens
SManager:
    MainMenu:
    Capitals:
    Flags:
    Continents:
    Options:
    TemplateScreen:


#Screen used as a template for other screens
<TemplateScreen>
    name: 'TemplateScreen'
    MDCard:
        size_hint: (1,1)
        pos_hint: {"center_x":0.5,"center_y":0.5}
        md_bg_color: app.bg_color


<MainMenu>
    name: 'MainScreen'
    MDBoxLayout:
        orientation: 'vertical'
        MDBoxLayout:
            orientation:'vertical'
            size_hint_y:0.25
            MDLabel:
                text:"Countries Quiz App"
                font_style:"H4"
            AnchorLayout:
                anchor_x: 'center'
                Image:
                    source:'data/icons/globe.png'
                    size_hint:1,1

        MDGridLayout:
            size_hint_y: 0.65
            columns:2
            rows:2
            padding: [dp(20),dp(20),dp(20),dp(20)]
            spacing: dp(20)
            MainMenuButton:
                text:"Capitals"
                subtext:"Guess all capitals of the world."
                image:'data/icons/capitals_mode.png'
                on_release: root.manager.current = 'CapitalsScreen'; app.assign_country_to_label(0); root.manager.get_screen('CapitalsScreen').ids.correct_answers.text = 'Correct answers: 0'; root.manager.get_screen('CapitalsScreen').ids.ca_streak.text = 'Current streak: 0'; root.manager.get_screen('CapitalsScreen').ids.bot_bar.title = 'Score: 0'
            MainMenuButton:
                text:"Flags"
                subtext:"Do you know flags of all countries?"
                image:'data/icons/flags_mode.png'
                on_release: root.manager.current = 'FlagsScreen'; app.pick_flag(); root.manager.get_screen('FlagsScreen').ids.flag_score.text='Score: 0';root.manager.get_screen('FlagsScreen').ids.flag_ca.text='Correct answers: 0';root.manager.get_screen('FlagsScreen').ids.flag_streak.text='Current streak: 0' 
            MainMenuButton:
                text:"Continents"
                subtext:"Pick continents for all countries."
                image:'data/icons/continents_mode.png'
                on_release: root.manager.current = 'ContinentsScreen'; app.assign_country_to_label(2);root.manager.get_screen('ContinentsScreen').ids.conti_score.text='Score: 0';root.manager.get_screen('ContinentsScreen').ids.conti_correct.text='Correct answers: 0';root.manager.get_screen('ContinentsScreen').ids.conti_streak.text='Current streak: 0';
            MainMenuButton:
                text:"Settings"
                subtext:"Adjust application settings"
                image:'data/icons/settings.png'
                on_release: root.manager.current = 'OptionsScreen'; app.color_picker()
        MDBoxLayout:
            orientation:'vertical'
            size_hint_y:0.10
            MDLabel:
                text:"CopyrightÂ© Wojciech Milczarek 2021"
                font_style:'Overline'

<MainMenuButton@MDCard>:
    md_bg_color: (159/256,189/256,237/256,1)
    padding: dp(15)
    spacing: dp(15)
    radius: dp(25)
    ripple_behavior: True
    image:""
    text:""
    subtext:""
    elevation:30
    
    orientation:'vertical'
    AnchorLayout:
        anchor_x: 'center'
        Image:
            source: root.image
            size_hint: 1,1
    MDBoxLayout:
        orientation: 'vertical'
        MDLabel:
            text:root.text
            font_style:"H6"
        MDLabel:
            text:root.subtext
            font_style:"Caption"
    

<Capitals>
    name: 'CapitalsScreen'

    MDIconButton:
        on_press: root.manager.current = 'MainScreen'
    
    MDLabel:
        id:correct_answers
        text:'Correct answers: 0'
        pos_hint:{'center_x':0.5,'center_y':0.6}

    MDLabel:
        id:ca_streak
        text:'Current streak: 0'  
        pos_hint:{'center_x':0.5,'center_y':0.5}

    MDLabel:
        id: question
        text: 'What is the capital of: '
        pos_hint:{'center_x':0.5,'center_y':0.29}

    MDTextFieldRound:
        id: answer
        pos_hint:{'center_x':0.5,'center_y':0.21}
        size_hint:(0.4,0.1)

    MDBoxLayout:
        orientation:'vertical'
        MDBottomAppBar:
            MDToolbar:
                id: bot_bar
                icon: 'forward'
                type: 'bottom'
                title: 'Score: 0'
                on_action_button: app.check_answer(); app.assign_country_to_label(0);

    #Animation image displayed after correct answer
    #Image:
     #   id: gif
     #   source: ''
     #   center: self.parent.center
     #   size: 50, 50
     #   size_hint: (0.2,0.2)
     #   allow_stretch: True
     #   anim_delay: -1
     #   anim_loop: 1
     #   opacity: 0
        

<Flags>
    name: 'FlagsScreen'

    MDIconButton:
        on_press: root.manager.current = 'MainScreen'
        

    MDLabel:
        id: flag_score
        text: 'Score: 0'
        size_hint: (0.2,0.15)
        pos_hint:{'center_x':0.2,'center_y':0.9}
    
    MDLabel:
        id: flag_ca
        text: 'Correct answers: 0'
        size_hint: (0.2,0.15)
        pos_hint:{'center_x':0.45,'center_y':0.9}
    
    MDLabel:
        id: flag_streak
        text: 'Current streak: 0'
        size_hint: (0.2,0.15)
        pos_hint:{'center_x':0.70,'center_y':0.9}

    MDLabel:
        id: what_country_flag
        text: 'What is the flag of: '
        size_hint: (1,0.15)
        pos_hint:{'center_x':0.5,'center_y':0.5}

    #Top left flag
    Image: 
        id:country0
        pos_hint:{'center_x':0.25, 'center_y':0.7}
        source: 'flags/finland_flag-jpg-xs.jpg'
    Button: 
        pos_hint:{'center_x':0.25, 'center_y':0.7}
        on_press: app.check_flag(0)

    #Top right flag
    Image:  
        id:country1
        pos_hint:{'center_x':0.75, 'center_y':0.7}
        source: 'flags/finland_flag-jpg-xs.jpg'
    Button: 
        pos_hint:{'center_x':0.75, 'center_y':0.7}
        on_press: app.check_flag(1)

    #Bottom left flag
    Image:  
        id:country2
        pos_hint:{'center_x':0.25, 'center_y':0.25}
        source: 'flags/finland_flag-jpg-xs.jpg'
    Button: 
        pos_hint:{'center_x':0.25, 'center_y':0.25}
        on_press: app.check_flag(2)

    #Bottom right flag
    Image:  
        id:country3
        pos_hint:{'center_x':0.75, 'center_y':0.25}
        source: 'flags/finland_flag-jpg-xs.jpg'
    Button: 
        pos_hint:{'center_x':0.75, 'center_y':0.25}
        on_press: app.check_flag(3)

#Definition of tile, later used in continents quiz mode grid layout.
<ContinentTile@SmartTileWithStar>
    size_hint_y: None
    height: "240dp"
<Continents>
    name: 'ContinentsScreen'

    MDIconButton:
        on_press: root.manager.current = 'MainScreen'
    
    MDLabel:
        id: continent_question
        text:'On which continent lies '
        pos_hint:{'center_x':0.5,'center_y':0.9}
    
    MDLabel:
        id: conti_score
        text:'Score: 0'
        pos_hint:{'center_x':0.2,'center_y':0.85}
    
    MDLabel:
        id: conti_correct
        text:'Correct answers: 0'
        pos_hint:{'center_x':0.5,'center_y':0.85}
    
    MDLabel:
        id: conti_streak
        text:'Current streak: 0'
        pos_hint:{'center_x':0.8,'center_y':0.85}
    
    MDGridLayout:
        cols:3
        rows:2
        adaptive_height: True
        #padding: dp(4), dp(4)
        spacing: dp(4) 

        ContinentTile:
            id: africa
            source:'data/continents/Africa.jpg' 
            on_release: app.check_continent(0);app.assign_country_to_label(2)
            
            text:"Africa"
        ContinentTile:
            id: asia
            source:'data/continents/Asia.jpg'
            on_release: app.check_continent(1);app.assign_country_to_label(2)
            text:"Asia"
        ContinentTile:
            id: europe
            source:'data/continents/Europe.jpg' 
            on_release: app.check_continent(2);app.assign_country_to_label(2)
            text:"Europe"
        ContinentTile:
            id: na
            source:'data/continents/North America.gif' 
            on_release: app.check_continent(3);app.assign_country_to_label(2)
            text:"North America"
        ContinentTile:
            id: oceania
            source:'data/continents/Oceania.jpg' 
            on_release: app.check_continent(4);app.assign_country_to_label(2)
            text:"Oceania"
        ContinentTile:
            id: sa
            source:'data/continents/South America.jpg' 
            on_release: app.check_continent(5);app.assign_country_to_label(2)
            text:"South America"

<Options>
    name: 'OptionsScreen'
    
    MDIconButton:
        on_press: root.manager.current = 'MainScreen'